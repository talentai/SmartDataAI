
# SmartData Class Documentation

## Overview
The `SmartData` class is designed to process and clean datasets using both AI and non-AI methods. It uses OpenAI's models for generating prompts, analyzing data, and creating plots. Additionally, the class has memory capabilities to retain the context of conversations and code used during the analysis.

---

### Initialization
```python
__init__(df_list, llm=None, show_detail=config['SHOW_DETAIL'], memory_size=config['MEMORY_SIZE'], max_iterations=config['MAX_ITERATIONS'], max_execution_time=config['MAX_EXECUTION_TIME'], seed=0)
```
**Description**:  
Initializes the `SmartData` object.

**Parameters**:
- `df_list` (list of DataFrames): The list of DataFrames to be processed.
- `llm` (optional): The language model object. Defaults to OpenAI's Chat model if not provided.
- `show_detail` (bool, optional): Whether to show detailed output. Defaults to configuration settings.
- `memory_size` (int, optional): The size of the memory for recalling conversation. Defaults to configuration settings.
- `max_iterations` (int, optional): Maximum iterations allowed for model execution. Defaults to configuration settings.
- `max_execution_time` (int, optional): Maximum allowed execution time in seconds. Defaults to configuration settings.
- `seed` (int, optional): Seed value for reproducibility. Defaults to 0.

---

### Methods

---

#### create_model
```python
create_model(use_openai_llm=True, seed=0)
```
**Description**:  
Creates and initializes a model based on the provided DataFrame.

**Parameters**:
- `use_openai_llm` (bool, optional): Whether to use OpenAI's language model. Defaults to True.
- `seed` (int, optional): Seed value for reproducibility. Defaults to 0.

**Returns**:  
A tuple containing the generated prompt and the agent executor.

---

#### run_model
```python
run_model(question)
```
**Description**:  
Runs the model by passing a question and handles data changes, plot generation, and responses.

**Parameters**:
- `question` (str): The input question to query the model.

**Returns**:  
- Answer from the model.
- A boolean indicating if plots were generated.
- A boolean indicating if the DataFrame was changed.
- List of generated images/plots.
- Updated DataFrame.
- The model's response object.
- List of generated code.
- List of plot-related code.
- List of data change-related code.

---

#### clean_data_without_ai
```python
clean_data_without_ai()
```
**Description**:  
Cleans the DataFrame without using AI.

**Returns**:  
A tuple containing the summary and the cleaned DataFrame.

---

#### clean_data_with_ai
```python
clean_data_with_ai()
```
**Description**:  
Cleans the DataFrame using AI.

**Returns**:  
A tuple containing the AI-generated answer, a boolean indicating if the DataFrame was changed, and the cleaned DataFrame.

---

#### clean_data
```python
clean_data()
```
**Description**:  
Cleans the DataFrame by using both AI and non-AI methods and combines the results into a final summary.

**Returns**:  
A tuple containing the final summary, a boolean indicating if the DataFrame was changed, and the cleaned DataFrame.

---

#### create_data_clean_summary
```python
create_data_clean_summary(result)
```
**Description**:  
Generates a summary based on the result of the data cleaning process.

**Parameters**:
- `result` (str): The result to summarize.

**Returns**:  
A tuple containing the message object and the summary generated by the model.

---

#### remember_conversation
```python
remember_conversation(question, answer, code_list, code_list_plot_wo_add_on)
```
**Description**:  
Stores the conversation, including the question, AI's answer, and the code generated.

**Parameters**:
- `question` (str): The question asked.
- `answer` (str): The AI's response.
- `code_list` (list): List of generated code.
- `code_list_plot_wo_add_on` (list): List of plot-related code.

---

#### recall_all_conversation
```python
recall_all_conversation()
```
**Description**:  
Recalls all the stored conversations.

**Returns**:  
The entire conversation history.

---

#### recall_last_conversation
```python
recall_last_conversation(number_last_conversation)
```
**Description**:  
Recalls the most recent conversations.

**Parameters**:
- `number_last_conversation` (int): The number of recent conversations to recall.

**Returns**:  
The last few stored conversations.

---

#### clear_all_conversation
```python
clear_all_conversation()
```
**Description**:  
Clears all stored conversations.

---

#### extract_code_from_response
```python
extract_code_from_response(response)
```
**Description**:  
Extracts code from the model's response.

**Parameters**:
- `response` (dict): The model's response object.

**Returns**:  
A list of extracted code snippets.

---

#### process_with_plot_code
```python
process_with_plot_code(string_list)
```
**Description**:  
Processes code snippets related to plots.

**Parameters**:
- `string_list` (list): List of code snippets.

**Returns**:  
A tuple containing the processed code with and without additional libraries for plotting.

---

#### process_with_datachange_code
```python
process_with_datachange_code(string_list)
```
**Description**:  
Processes code snippets related to data changes.

**Parameters**:
- `string_list` (list): List of code snippets.

**Returns**:  
A tuple containing the processed code with and without additional libraries for data changes.

---
